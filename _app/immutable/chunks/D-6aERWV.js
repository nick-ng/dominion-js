import{G as g,N,H as T,I as h,J as I,y as n,K as L,M as m,u as E,O as b,Q as t,R as w,T as C,U as O,x as H}from"./f0Mku_kX.js";const R=Symbol("is custom element"),U=Symbol("is html");function K(e){if(h){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var l=e.value;S(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var c=e.checked;S(e,"checked",null),e.checked=c}}};e.__on_r=a,n(a),L()}}function S(e,r,a,l){var c=B(e);h&&(c[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||c[r]!==(c[r]=a)&&(r==="loading"&&(e[g]=a),a==null?e.removeAttribute(r):typeof a!="string"&&D(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function B(e){return e.__attributes??(e.__attributes={[R]:e.nodeName.includes("-"),[U]:e.namespaceURI===N})}var A=new Map;function D(e){var r=e.getAttribute("is")||e.nodeName,a=A.get(r);if(a)return a;A.set(r,a=[]);for(var l,c=e,o=Element.prototype;o!==c;){l=I(c);for(var f in l)l[f].set&&a.push(f);c=T(c)}return a}function P(e,r,a=r){var l=new WeakSet;m(e,"input",async c=>{var o=c?e.defaultValue:e.value;if(o=k(e)?i(o):o,a(o),t!==null&&l.add(t),await w(),o!==(o=r())){var f=e.selectionStart,v=e.selectionEnd,d=e.value.length;if(e.value=o??"",v!==null){var s=e.value.length;f===v&&v===d&&s>d?(e.selectionStart=s,e.selectionEnd=s):(e.selectionStart=f,e.selectionEnd=Math.min(v,s))}}}),(h&&e.defaultValue!==e.value||E(r)==null&&e.value)&&(a(k(e)?i(e.value):e.value),t!==null&&l.add(t)),b(()=>{var c=r();if(e===document.activeElement){var o=C??t;if(l.has(o))return}k(e)&&c===i(e.value)||e.type==="date"&&!c&&!e.value||c!==e.value&&(e.value=c??"")})}const u=new Set;function V(e,r,a,l,c=l){var o=a.getAttribute("type")==="checkbox",f=e;let v=!1;if(r!==null)for(var d of r)f=f[d]??(f[d]=[]);f.push(a),m(a,"change",()=>{var s=a.__value;o&&(s=y(f,s,a.checked)),c(s)},()=>c(o?[]:null)),b(()=>{var s=l();if(h&&a.defaultChecked!==a.checked){v=!0;return}o?(s=s||[],a.checked=s.includes(a.__value)):a.checked=O(a.__value,s)}),H(()=>{var s=f.indexOf(a);s!==-1&&f.splice(s,1)}),u.has(f)||(u.add(f),n(()=>{f.sort((s,_)=>s.compareDocumentPosition(_)===4?-1:1),u.delete(f)})),n(()=>{if(v){var s;if(o)s=y(f,s,a.checked);else{var _=f.find(M=>M.checked);s=_==null?void 0:_.__value}c(s)}})}function q(e,r,a=r){m(e,"change",l=>{var c=l?e.defaultChecked:e.checked;a(c)}),(h&&e.defaultChecked!==e.checked||E(r)==null)&&a(e.checked),b(()=>{var l=r();e.checked=!!l})}function y(e,r,a){for(var l=new Set,c=0;c<e.length;c+=1)e[c].checked&&l.add(e[c].__value);return a||l.delete(r),Array.from(l)}function k(e){var r=e.type;return r==="number"||r==="range"}function i(e){return e===""?null:+e}export{q as a,P as b,V as c,K as r,S as s};
